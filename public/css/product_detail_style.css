/* public/css/product_detail_style.css */

/* Variables CSS para colores - ¡MAGENTA VIBRANTE Y NEÓN DEFINITIVO! */
:root {
    /* Colores primarios basados en tu imagen de referencia */
    --color-main-dark: #2a0050; /* Morado/Magenta Oscuro base para header/hero */
    --color-main-light: #c084fc; /* Morado Intenso - Usado para texto principal, acentos */
    --color-accent-pink: #ff00ff; /* Rosa Fucsia Neón - Para acentos brillantes, hover */
    --color-accent-yellow: #f2d325; /* Amarillo Neón Brillante - Para botones primarios, glows */
    --color-accent-blue: #00ffff; /* Cian Neón - Para acentos de brillo sutiles */
    --color-magenta--fav: #de0064;

    /* Colores generales */
    --color-text-dark: #333; /* Texto oscuro para fondos claros (sidebar) */
    --color-text-light: #f9f9f9; /* Texto muy claro para fondos oscuros */
    --color-background-light: #f0f0f0; /* Fondo general de la página */
    --color-white: #fff;      /* Blanco puro para sidebar y tarjetas de producto */
    --color-gray: #ccc;
    --color-light-gray: #eee; /* Gris muy claro, casi blanco */
    --color-error: #ef4444; /* Rojo vibrante para errores */
    --color-success: #22c55e; /* Verde vibrante para éxito */
    --color-info: #3498db;    /* Azul vibrante para información */
    --color-gray-dark: #666;      /* Gris oscuro para textos secundarios */
    --color-gray-medium: #bbb;    /* Gris medio para bordes/sombras */
    
    /* Tipografía */
    --font-heading: 'Cinzel Decorative', serif; /* Para títulos principales */
    --font-display: 'Playfair Display', serif; /* Para títulos secundarios, contenido especial */
    --font-body: 'Montserrat', sans-serif; /* Para texto general, botones */
}

/* Base global */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Montserrat', sans-serif;
    line-height: 1.6;
    color: var(--color-text-dark);
    background-color: var(--color-background-light);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* Clase para deshabilitar el scroll del body cuando un modal está abierto */
body.modal-open {
    overflow: hidden;
}

a {
    color: var(--color-main-light); /* Enlaces con el morado intenso */
    text-decoration: none;
}

a:hover {
    text-decoration: underline;
}

img {
    max-width: 100%;
    height: auto;
    display: block;
}

/* Contenedor general */
.container {
    width: 90%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px 0;
}

/* ============================================== */
/* ESTILOS DE ELEMENTOS COMUNES (copiados para ser autónomo) */
/* ============================================== */

/* Botones */
.btn {
    display: inline-block;
    padding: 12px 25px;
    border-radius: 4px;
    font-weight: 700;
    text-transform: uppercase;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

.btn-primary {
    background-color:  var(--color-magenta--fav);
    color: white;
}

.btn-primary:hover {
    filter: brightness(0.9);
    box-shadow: 0 1px 10px var(--color-magenta--fav);
    transform: translateY(-2px);
}

.btn-secondary {
    background-color: var(--color-main-light);
    color: var(--color-text-light);
    border: 1px solid var(--color-main-light);
}

.btn-secondary:hover {
    filter: brightness(0.9);
    box-shadow: 0 6px 15px rgba(157, 16, 230, 0.7);
    transform: translateY(-2px);
}

.btn-tertiary {
    background: none;
    border: 1px solid var(--color-accent-pink);
    color: var(--color-accent-pink);
}

.btn-tertiary:hover {
    background-color: var(--color-accent-pink);
    color: var(--color-white);
    box-shadow: 0 6px 15px rgba(255, 0, 255, 0.7);
    transform: translateY(-2px);
}

/* Form inputs (generales, usados también en modales) */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="number"],
select,
textarea {
    width: 100%;
    padding: 12px;
    margin-bottom: 15px; /* Ajustado para consistencia en modales */
    border: 1px solid var(--color-gray);
    border-radius: 8px;
    font-size: 1rem;
    font-family: var(--font-body);
    color: var(--color-text-dark);
}
input[type="number"] {
    -moz-appearance: textfield; /* Para Firefox */
}
/* Ocultar flechas en input type="number" para Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* Estilo para imágenes de productos (usado en relacionados y modales) */
.product-card .product-img {
    width: 100%;
    height: 210px;
    object-fit: contain;
    border-radius: 8px;
    margin-bottom: 10px;
    background-color: #d2d2d2;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    position: relative;
}

.product-img.error-image {
    background-color: var(--color-error);
    color: var(--color-white);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 0.9rem;
    font-weight: bold;
    text-align: center;
    padding: 10px;
}
.product-img.error-image::after {
    content: "Error al cargar imagen";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
}


/* ============================================== */
/* MENSAJES DE SISTEMA (TOAST) */
/* ============================================== */
.message-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 90%;
    max-width: 400px;
}

.message {
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    opacity: 1;
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    transform: translateY(0);
    text-align: center;
    font-weight: 500;
}

.message.hide {
    opacity: 0;
    transform: translateY(-20px);
}

.message-success {
    background-color: var(--color-success);
    color: var(--color-white);
}

.message-error {
    background-color: var(--color-error);
    color: var(--color-white);
}

.message-info {
    background-color: var(--color-info);
    color: var(--color-white);
}

/* ============================================== */
/* HEADER Y FOOTER (Específicos para product_detail.php) */
/* ============================================== */
.minimal-header {
    background-color: var(--color-main-dark); /* Mismo fondo oscuro que el main header */
    color: var(--color-text-light);
    padding: 10px 0;
    border-bottom: 2px solid var(--color-accent-pink);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
    position: sticky;
    top: 0;
    width: 100%;
    z-index: 900;
}

.minimal-header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
}

.logo {
    display: flex;
    align-items: center;
    margin-right: 20px;
}

.logo a {
    display: flex;
    align-items: center;
    color: var(--color-text-light);
    text-decoration: none;
}

.logo-img {
    height: 50px;
    margin-right: 10px;
    border-radius: 50%;
}

.logo h1 {
    font-family: 'Cinzel Decorative', serif;
    font-size: 1.8rem;
    margin: 0;
    text-shadow:
    0 0 5px var(--color-accent-blue),
    0 0 10px #31006e,
    0 0 20px #00b7ff,
    0 0 30px var(--color-main-light),
    0 0 40px var(--color-main-light),
    0 0 50px var(--color-main-light);
    transition: text-shadow 0.3s ease;
}

.logo h1:hover {
    text-shadow: 0 0 8px var(--color-magenta--fav),
                 0 0 15px var(--color-main-light),
                 0 0 30px var(--color-accent-pink),
                 0 0 50px var(--color-accent-pink);
}

.minimal-nav .back-to-products-btn {
    font-size: 0.9rem;
    padding: 8px 15px;
}

.main-footer {
    background-color: var(--color-main-dark);
    color: var(--color-text-light);
    text-align: center;
    padding: 20px 0;
    margin-top: auto;
}

.social-links a {
    color: var(--color-text-light);
    margin: 0 10px;
    font-weight: 700;
    transition: color 0.3s ease;
}

.social-links a:hover {
    color: var(--color-accent-yellow);
}


/* ============================================== */
/* MAIN CONTENT DE LA PÁGINA DE DETALLE (Exclusivo) */
/* ============================================== */
.product-detail-page-main {
    padding: 30px 0;
    flex-grow: 1;
    background: linear-gradient(to right, #2a0050, #4b0082);
}

.product-detail-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 30px;
    background-color: var(--color-white);
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
    padding: 25px;
}

.breadcrumbs {
    font-size: 0.9rem;
    color: var(--color-gray-dark);
    margin-bottom: 20px;
    grid-column: 1 / -1;
}
.breadcrumbs a {
    color: var(--color-gray-dark);
}
.breadcrumbs span {
    font-weight: bold;
    color: var(--color-main-dark);
}

.product-header h1 {
    font-family: 'Cinzel Decorative', serif;
    font-size: 2.8rem;
    color: var(--color-main-dark);
    margin-bottom: 30px;
    text-align: center;
    grid-column: 1 / -1;
}

.product-content-area {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.product-images {
    text-align: center;
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.main-detail-img-page {
    width: 100%;
    max-width: 450px;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
    object-fit: contain;
    background-color: #d2d2d2;
    position: relative;
}

.main-detail-img-page.error-image {
    background-color: var(--color-error);
    color: var(--color-white);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.1rem;
    font-weight: bold;
    text-align: center;
    padding: 15px;
    content: "";
    background-image: none;
    text-indent: -9999px;
}
.main-detail-img-page.error-image::after {
    content: "Error al cargar imagen";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    text-indent: 0;
}


.image-thumbnails {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 10px;
    flex-wrap: wrap;
}

.thumbnail-img-page {
    width: 150px;
    height: 150px;
    object-fit: contain;
    border-radius: 8px;
    border: 2px solid var(--color-light-gray);
    cursor: pointer;
    transition: border-color 0.2s ease, transform 0.2s ease;
    background-color: #d2d2d2;
    position: relative;
}

.thumbnail-img-page:hover,
.thumbnail-img-page.active {
    border-color: var(--color-main-light);
    transform: translateY(-3px);
}

.thumbnail-img-page.error-image {
    background-color: var(--color-error);
    color: var(--color-white);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 0.7rem;
    font-weight: bold;
    text-align: center;
    padding: 5px;
    content: "";
    background-image: none;
    text-indent: -9999px;
}
.thumbnail-img-page.error-image::after {
    content: "Error";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    text-indent: 0;
}


.product-info-area {
    flex: 1;
    background-color: var(--color-white);
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 15px 8px rgba(0,0,0,0.05);
    color: var(--color-text-dark);
    overflow-y: auto;
    height: 110vh;
    max-width: 95vh;
    max-height: 100vh;
}

.product-price-page {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    font-weight: 700;
    color: var(--color-accent-pink);
    margin-bottom: 20px;
    margin-top: -1rem;
    text-align: center;
}

.quantity-selector-page {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 30px;
    gap: 15px;
}

.quantity-selector-page label {
    font-weight: 600;
    font-size: 1.1rem;
    color: var(--color-text-dark);
}

.quantity-controls-page {
    display: flex;
    align-items: center;
    border: 1px solid var(--color-gray);
    border-radius: 8px;
    overflow: hidden;
}

.quantity-controls-page button {
    background-color: var(--color-light-gray);
    border: none;
    padding: 6px 8px;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.quantity-controls-page button:hover {
    background-color: var(--color-gray);
}

.quantity-controls-page input {
    width: 40px;
    text-align: center;
    border: none;
    padding: 6px;
    font-size: 1.1rem;
    margin-bottom: 0;
}

.product-actions-page {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 30px;
}

.product-actions-page .btn {
    width: 100%;
    font-size: 1.1rem;
    padding: 10px;
    border-radius: 15px;
}

.product-tabs-page {
    display: flex;
    border-bottom: 1px solid var(--color-gray);
    margin-bottom: 20px;
    overflow-x: auto;
    white-space: nowrap;

}

.product-tabs-page .tab-btn-page {
    flex-shrink: 0;
    padding: 12px 20px;
    background-color: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    font-size: 1rem;
    font-weight: bold;
    color: var(--color-gray-dark);
    transition: all 0.3s ease;
}

.product-tabs-page .tab-btn-page.active {
    border-bottom-color: var(--color-main-light);
    color: var(--color-main-light);
}

.product-tabs-page .tab-btn-page:hover:not(.active) {
    color: var(--color-accent-pink);
}

.product-tab-content-page {
    padding: 15px 0;
}

.tab-panel-page {
    display: none;
}

.tab-panel-page.active {
    display: block;
}

.tab-panel-page h3 {
    font-family: 'Playfair Display', serif;
    color: var(--color-accent-pink);
    margin-bottom: 15px;
    font-size: 1.6rem;
    margin-top: -1rem;
}

.tab-panel-page p, .tab-panel-page ul {
    font-size: 1rem;
    color: var(--color-text-dark);
    margin-bottom: 15px;
}

.tab-panel-page ul {
    list-style-type: disc;
    margin-left: 25px;
}

/* =============================================== */
/* SECCIÓN DE RESEÑAS COMPLETA (Slider + Acordeón) */
/* =============================================== */
.product-reviews-section {
    background-color: var(--color-white);
    max-width: 173vh;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    margin-top: 30px; /* Espacio con la sección superior */
}

.product-reviews-section .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    color: var(--color-main-dark);
    margin-bottom: 25px;
    text-align: center;
}

/* Contenedor del slider de reseñas existentes */
#reviewsListContainer.reviews-slider {
    padding: 15px 0;
    display: flex; 
    overflow-x: auto; /* Scroll horizontal para el contenedor de reseñas */
    -webkit-overflow-scrolling: touch; 
    scroll-snap-type: x mandatory; 
    gap: 20px; 
    scrollbar-width: thin; 
    scrollbar-color: var(--color-primary) var(--color-light-gray); 
}

/* Estilos de la barra de desplazamiento (para navegadores WebKit como Chrome) */
#reviewsListContainer.reviews-slider::-webkit-scrollbar {
    height: 8px; 
}

#reviewsListContainer.reviews-slider::-webkit-scrollbar-track {
    background: var(--color-light-gray); 
    border-radius: 10px;
}

#reviewsListContainer.reviews-slider::-webkit-scrollbar-thumb {
    background: var(--color-primary); 
    border-radius: 10px;
}

#reviewsListContainer.reviews-slider::-webkit-scrollbar-thumb:hover {
    background: var(--color-accent-pink); 
}

/* Cada item de reseña - Cuadradas con Scroll Vertical Interno */
.review-item {
    flex: 0 0 auto; /* No crecer, no encoger, base en el tamaño definido */
    width: 280px; /* Ancho fijo para la reseña */
    height: 220px; /* Altura fija para que sea más cuadrada */
    min-width: 270px; /* Asegura un mínimo */
    background-color: var(--color-white);
    border: 1px solid var(--color-light-gray);
    border-radius: 10px;
    padding: 20px; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    scroll-snap-align: start; 
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.review-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px; 
}

.review-username {
    font-weight: bold;
    color: var(--color-main-dark);
    font-size: 1.1rem; 
}

.review-date {
    font-size: 0.9em; 
    color: var(--color-gray-dark);
}

.review-rating {
    margin-bottom: 10px; 
    font-size: 1.2rem; 
}

.review-rating .fa-star {
    color: var(--color-accent-pink); 
}

.review-comment {
    color: var(--color-text-dark);
    line-height: 1.6; 
    font-size: 1rem; 
    margin-top: 0;
    flex-grow: 1; /* Permite que el comentario ocupe el espacio restante */
    overflow-y: auto; /* ¡SCROLL VERTICAL INTERNO PARA COMENTARIOS LARGOS! */
    padding-right: 5px; /* Espacio para la barra de scroll si es necesario */
    scrollbar-width: thin; 
    scrollbar-color: var(--color-primary) var(--color-light-gray); 
}
.review-comment::-webkit-scrollbar {
    width: 6px;
}
.review-comment::-webkit-scrollbar-track {
    background: var(--color-light-gray);
    border-radius: 10px;
}
.review-comment::-webkit-scrollbar-thumb {
    background: var(--color-secondary); 
    border-radius: 10px;
}
.review-comment::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}


/* =============================================== */
/* ESTILOS DEL ACORDEÓN PARA EL FORMULARIO DE RESEÑAS */
/* =============================================== */
.review-form-accordion {
    margin-top: 40px; /* Espacio entre el slider de reseñas y el acordeón */
    border: 1px solid var(--color-light-gray);
    border-radius: 10px;
    overflow: hidden; /* Asegura que el contenido oculto no se desborde */
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}

#toggleReviewFormBtn {
    display: flex;
    align-items: center;
    justify-content: center; /* Centrar el contenido del botón */
    width: 50%;
    margin-left: 15rem;
    background-color: #ff00ff; /* Color de fondo del encabezado */
    color: var(--color-white);
    border: none;
    padding: 15px 25px;
    font-size: 1.2rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
    border-bottom: 1px solid rgba(255,255,255,0.2); /* Línea sutil */
    text-align: center;
}

#toggleReviewFormBtn:hover {
    background-color: #ffdcff;
    color:#ff00ff;
    box-shadow: 0 4px 10px #ff00ff;
    border: 2px solid #ff00ff;

}

.accordion-icon {
    margin-right: 10px;
    transition: transform 0.3s ease; /* Animación para el icono */
}

/* Rotar el icono cuando el acordeón está activo */
.accordion-header.active .accordion-icon {
    transform: rotate(45deg); /* Cambia de "+" a "x" o a una flecha girada */
}

.accordion-content {
    background-color: var(--color-light-purple);
    padding: 0 25px; /* Padding horizontal inicial */
    max-height: 0; /* Oculto por defecto */
    overflow: hidden; /* Oculta el contenido desbordado */
    transition: max-height 0.3s ease-out, padding 0.3s ease-out; /* Animación de altura y padding */
    box-sizing: border-box; /* Asegura que padding no afecte el width total */
}

.accordion-content.active {
    max-height: 500px; /* Suficiente altura para el formulario */
    padding: 25px; /* Padding cuando está abierto */
}

/* =============================================== */
/* SECCIÓN DE RESEÑAS COMPLETA (Slider + Acordeón) */
/* =============================================== */
.product-reviews-section {
    background-color: var(--color-white);
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
    margin-top: 30px; /* Espacio con la sección superior */
}

.product-reviews-section .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    color: var(--color-main-dark);
    margin-bottom: 25px;
    text-align: center;
}

/* Contenedor del slider de reseñas existentes */
#reviewsListContainer.reviews-slider {
    /* Eliminamos padding-bottom de aquí y lo movemos a .product-reviews-section para asegurar que el scrollbar se vea siempre */
    display: flex; 
    overflow-x: auto; /* Scroll horizontal para el contenedor de reseñas */
    -webkit-overflow-scrolling: touch; 
    scroll-snap-type: x mandatory; 
    gap: 20px; 
    scrollbar-width: thin; 
    scrollbar-color: var(--color-primary) var(--color-light-gray); 
    padding-bottom: 20px; /* Espacio para el scrollbar visible y cómodo */
    margin-bottom: -20px; /* Compensa el padding-bottom para no añadir espacio extra al layout */
}

/* Estilos de la barra de desplazamiento (para navegadores WebKit como Chrome) */
#reviewsListContainer.reviews-slider::-webkit-scrollbar {
    height: 8px; 
}

#reviewsListContainer.reviews-slider::-webkit-scrollbar-track {
    background: var(--color-light-gray); 
    border-radius: 10px;
}

#reviewsListContainer.reviews-slider::-webkit-scrollbar-thumb {
    background: var(--color-primary); 
    border-radius: 10px;
}

#reviewsListContainer.reviews-slider::-webkit-scrollbar-thumb:hover {
    background: var(--color-accent-pink); 
}

/* Cada item de reseña - Cuadradas con Scroll Vertical Interno */
.review-item {
    flex-shrink: 0; /* IMPEDIR QUE LAS RESEÑAS SE ENCOJAN */
    width: 280px; /* Ancho fijo para la reseña */
    height: 220px; /* Altura fija para que sea más cuadrada */
    /* min-width: 270px; Lo quitamos ya que width lo define */
    background-color: var(--color-white);
    border: 1px solid var(--color-light-gray);
    border-radius: 10px;
    padding: 20px; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    scroll-snap-align: start; 
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    /* Añadimos este margen derecho para que la última reseña no se pegue al borde derecho cuando no hay más scroll */
    margin-right: 0; /* Aseguramos que no haya un margen extra en los items por defecto */
}

/* Ajuste específico para el último item en el slider si es necesario un espacio extra al final */
/* #reviewsListContainer.reviews-slider .review-item:last-child {
    margin-right: 20px; /* Añade espacio extra después del último elemento */
/* } */

.review-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px; 
}

.review-username {
    font-weight: bold;
    color: var(--color-main-dark);
    font-size: 1.1rem; 
}

.review-date {
    font-size: 0.9em; 
    color: var(--color-gray-dark);
}

.review-rating {
    margin-bottom: 10px; 
    font-size: 1.2rem; 
}

.review-rating .fa-star {
    color: var(--color-accent-pink); 
}

.review-comment {
    color: var(--color-text-dark);
    line-height: 1.6; 
    font-size: 1rem; 
    margin-top: 0;
    flex-grow: 1; /* Permite que el comentario ocupe el espacio restante */
    overflow-y: auto; /* ¡SCROLL VERTICAL INTERNO PARA COMENTARIOS LARGOS! */
    padding-right: 5px; /* Espacio para la barra de scroll si es necesario */
    scrollbar-width: thin; 
    scrollbar-color: var(--color-primary) var(--color-light-gray); 
}
.review-comment::-webkit-scrollbar {
    width: 6px;
}
.review-comment::-webkit-scrollbar-track {
    background: var(--color-light-gray);
    border-radius: 10px;
}
.review-comment::-webkit-scrollbar-thumb {
    background: var(--color-secondary); 
    border-radius: 10px;
}
.review-comment::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary);
}


/* =============================================== */
/* ESTILOS DEL ACORDEÓN PARA EL FORMULARIO DE RESEÑAS */
/* =============================================== */
.review-form-accordion {
    margin-top: 40px; /* Espacio entre el slider de reseñas y el acordeón */
    border: 1px solid var(--color-light-gray);
    border-radius: 10px;
    overflow: hidden; /* Asegura que el contenido oculto no se desborde */
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}

.accordion-header {
    display: flex;
    align-items: center;
    justify-content: center; /* Centrar el contenido del botón */
    width: 100%;
    background-color: var(--color-primary); /* Color de fondo del encabezado */
    color: var(--color-white);
    border: none;
    padding: 15px 25px;
    font-size: 1.2rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease;
    border-bottom: 1px solid rgba(255,255,255,0.2); /* Línea sutil */
    text-align: center;
}

.accordion-header:hover {
    background-color: var(--color-accent-pink);
}

.accordion-icon {
    margin-right: 10px;
    transition: transform 0.3s ease; /* Animación para el icono */
}

/* Rotar el icono cuando el acordeón está activo */
.accordion-header.active .accordion-icon {
    transform: rotate(45deg); /* Cambia de "+" a "x" o a una flecha girada */
}

.accordion-content {
    background-color: var(--color-light-purple);
    padding: 0 25px; /* Padding horizontal inicial */
    max-height: 0; /* Oculto por defecto */
    overflow: hidden; /* Oculta el contenido desbordado */
    transition: max-height 0.3s ease-out, padding 0.3s ease-out; /* Animación de altura y padding */
    box-sizing: border-box; /* Asegura que padding no afecte el width total */
}

.accordion-content.active {
    max-height: 500px; /* Suficiente altura para el formulario */
    padding: 25px; /* Padding cuando está abierto */
}

/* =============================================== */
/* FORMULARIO DE RESEÑAS HORIZONTAL DENTRO DEL ACORDEÓN */
/* =============================================== */
.review-form-layout {
    display: flex;
    flex-wrap: wrap; /* Permite que los elementos se envuelvan a la siguiente línea */
    gap: 20px; /* Espacio entre los grupos de formulario */
    align-items: flex-start; /* Alinea los elementos al inicio de cada línea */
    padding: 0; /* No padding aquí, ya lo tiene .accordion-content */
}

.review-form-layout .form-group-flex {
    flex: 1 1 calc(50% - 10px); /* Ocupa casi el 50% del ancho, menos el gap. Se encoge y crece */
    min-width: 280px; /* Mínimo para que no se apilen demasiado pronto */
    display: flex;
    flex-direction: column;
}

.review-form-layout .rating-group-flex {
    align-items: flex-start; /* Asegura que la label de rating se alinee a la izquierda */
}


.review-form-layout .form-group-full-width {
    flex: 1 1 100%; /* Ocupa todo el ancho */
    display: flex;
    flex-direction: column;
}

.review-form-layout label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px; 
    color: var(--color-main-dark);
    font-size: 1rem; 
}

.review-form-layout input[type="text"],
.review-form-layout textarea {
    width: 100%;
    padding: 12px; 
    border: 1px solid var(--color-gray);
    border-radius: 8px;
    font-size: 1rem; 
    box-sizing: border-box; 
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.review-form-layout input[type="text"]:focus,
.review-form-layout textarea:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.2);
    outline: none;
}

.review-form-layout textarea {
    resize: vertical; 
}

.review-form-layout .rating-stars {
    font-size: 1.8rem; 
    color: var(--color-gray); 
    cursor: pointer;
    display: inline-block; 
}

.review-form-layout .rating-stars .fa-star {
    margin-right: 5px; 
    transition: color 0.2s ease;
}

.review-form-layout .rating-stars .fa-star.filled,
.review-form-layout .rating-stars .fa-star.fas { 
    color: var(--color-accent-pink); 
}

.review-form-layout .submit-review-btn {
    width: fit-content; /* Se ajusta al contenido */
    margin: 20px auto 0 auto; /* Centrar el botón debajo del formulario */
    padding: 12px 30px;
    font-size: 1.1rem;
    border-radius: 25px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    background-color: var(--color-primary);
    color: var(--color-white);
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

.review-form-layout .submit-review-btn:hover {
    background-color: var(--color-accent-pink);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

/* Media Query para móvil para el formulario horizontal - se apila */
@media (max-width: 767px) { 
    .review-form-layout {
        flex-direction: column;
        gap: 15px;
        padding: 0; /* Resetear padding para que .accordion-content lo defina */
    }
    .review-form-layout .form-group-flex,
    .review-form-layout .form-group-full-width {
        flex: 1 1 100%; /* Todos ocupan el ancho completo */
        min-width: unset;
    }
    .review-form-layout .submit-review-btn {
        width: 100%; /* Botón ocupar todo el ancho */
        max-width: unset;
    }

    /* Ajustes específicos para las reseñas en móvil dentro del slider */
    .reviews-slider {
        flex-wrap: nowrap; /* Asegura el scroll horizontal en móvil */
        padding: 10px 0;
        gap: 10px;
    }
    .review-item {
        width: 100%; /* Permite que la tarjeta ocupe el ancho disponible del viewport para scroll */
        min-width: 250px; /* Asegura que la tarjeta no sea demasiado pequeña */
        height: auto; /* Altura automática, permitiendo que el contenido la defina */
        padding: 15px;
        overflow-y: auto; /* Mantener scroll interno */
    }
}


/* Related Products Section (Usa la estructura de product-card y product-grid) */
.related-products-page {
    margin-top: 40px;
    padding-top: 30px;
    border-top: 1px solid var(--color-gray);
}

.related-products-page h3 {
    font-family: 'Playfair Display', serif;
    font-size: 2.2rem;
    color: var(--color-main-dark);
    text-align: center;
    margin-bottom: 30px;
    text-shadow: none;
}

.product-grid-page {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 20px;
    justify-content: center;
}

/* Estilos de product-card para la sección de relacionados */
.product-card {
    background-color: var(--color-white);
    border-radius: 8px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
    overflow: hidden;
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px;
}

.product-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
}

.product-card .product-name {
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    margin-bottom: 10px;
    color: var(--color-main-light);
}

.product-card .product-price {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-accent-pink);
    margin-bottom: 25px;
}

.product-card .btn {
    width: 100%;
    margin-bottom: 12px;
}

/* ============================================== */
/* MODALES (Copied para ser autónomo, aunque compartidos con index.php) */
/* ============================================== */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.6);
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.modal.show {
    display: flex;
    opacity: 1;
}

/* Ajuste de z-index para modales superpuestos */
#addProductToWishlistModal.show { z-index: 2000; }
#confirmLogoutModal.show { z-index: 2500; } 


.modal-content {
    background-color: var(--color-white);
    padding: 20px 30px 30px;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    width: 90%;
    max-width: 500px;
    position: relative;
    transform: translateY(-20px);
    opacity: 0;
    transition: all 0.3s ease-out;
    color: var(--color-text-dark);
    display: flex;
    flex-direction: column;
}

.modal.show .modal-content {
    transform: translateY(0);
    opacity: 1;
}

.small-modal-content { max-width: 400px; }
.auth-modal-content { max-width: 450px; } 
.large-modal-content { max-width: 900px; max-height: 90vh; }


.scrollable-modal-body {
    flex-grow: 1;
    max-height: calc(90vh - 150px);
    overflow-y: auto;
    padding-right: 15px;
    margin-right: -15px;
    padding-bottom: 20px;
    padding-top: 5px;
    box-sizing: border-box;
}

.modal-content .close-button {
    color: var(--color-text-dark);
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s ease;
    z-index: 2001;
}

.modal-content .close-button:hover,
.modal-content .close-button:focus {
    color: var(--color-error);
    text-decoration: none;
    cursor: pointer;
}

.modal-header {
    margin-bottom: 20px;
    border-bottom: 1px solid var(--color-light-gray);
    padding-bottom: 15px;
    text-align: center;
    flex-shrink: 0;
}

.modal-body {
    padding: 0;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.modal-body h2 {
    font-family: 'Playfair Display', serif;
    font-size: 2rem;
    color: var(--color-main-light);
    margin-bottom: 20px;
    text-align: center;
}

/* Modales compartidos: auth, cart, myaccount, etc. - estilos copiados */
.auth-tabs { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
.auth-tabs .tab-btn { background: none; border: none; font-size: 1.1rem; padding: 10px 20px; cursor: pointer; color: var(--color-text-dark); border-bottom: 2px solid transparent; transition: all 0.3s ease; }
.auth-tabs .tab-btn.active { border-bottom-color: var(--color-main-light); color: var(--color-main-light); font-weight: bold; }
.auth-tabs .tab-btn:hover:not(.active) { color: var(--color-accent-pink); }
.auth-panel, .checkout-panel, .account-panel { display: none; width: 100%; flex-grow: 1; }
.auth-panel.active, .checkout-panel.active, .account-panel.active { display: flex; flex-direction: column; }
form { display: flex; flex-direction: column; gap: 15px; flex-grow: 1; }
form label { font-weight: 700; margin-bottom: -5px; color: var(--color-text-dark); }
form input[type="email"], form input[type="password"], form input[type="text"], form input[type="tel"], form textarea, form select { padding: 12px; border: 1px solid var(--color-gray); border-radius: 8px; font-size: 1rem; width: 100%; }
form input[type="submit"], form button[type="submit"] { margin-top: 20px; }
.switch-link { text-align: center; margin-top: 15px; font-size: 0.9rem; }
.switch-link a { color: var(--color-accent-pink); font-weight: bold; text-decoration: none; }
.switch-link a:hover { text-decoration: underline; }
.modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: auto; padding-top: 15px; border-top: 1px solid var(--color-light-gray); flex-shrink: 0; width: 100%; }
.message.success { background-color: var(--color-success); color: var(--color-white); }
.message.error { background-color: var(--color-error); color: var(--color-white); }
.checkout-steps { display: flex; justify-content: space-around; margin-bottom: 20px; padding: 10px 0; border-bottom: 1px solid var(--color-light-gray); flex-shrink: 0; }
.checkout-steps .step-btn { background: none; border: none; font-size: 1rem; padding: 10px 15px; cursor: pointer; color: var(--color-text-dark); border-bottom: 2px solid transparent; transition: all 0.3s ease; }
.checkout-steps .step-btn.active { border-bottom-color: var(--color-main-light); color: var(--color-main-light); font-weight: bold; }
.checkout-steps .step-btn:hover:not(.active) { color: var(--color-accent-pink); }
.cart-items { min-height: 100px; border: 1px solid var(--color-light-gray); border-radius: 8px; padding: 15px; margin-bottom: 20px; flex-grow: 1; overflow-y: auto; }
.cart-item { display: flex; align-items: center; gap: 15px; padding: 10px 0; border-bottom: 1px dashed var(--color-light-gray); }
.cart-item:last-child { border-bottom: none; }
.cart-item-img { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; }
.cart-item-details { flex-grow: 1; }
.cart-item-details h4 { font-size: 1.1rem; margin-bottom: 5px; color: var(--color-main-light); }
.cart-item-price { font-size: 0.95rem; color: var(--color-accent-pink); font-weight: 600; }
.cart-item-total { font-size: 1rem; font-weight: 700; color: var(--color-main-light); margin-left: auto; }
.cart-summary { text-align: right; font-size: 1.2rem; font-weight: 700; color: var(--color-text-dark); border-top: 1px solid var(--color-gray); padding-top: 15px; margin-top: 15px; flex-shrink: 0; }
.cart-summary .btn { margin-top: 20px; }
.shipping-form, .payment-form { padding: 0; flex-grow: 1; }
.shipping-form .form-actions, .payment-form .form-actions { display: flex; justify-content: space-between; margin-top: 20px; }
.credit-card-fields { margin-top: 15px; padding: 15px; border: 1px dashed var(--color-light-gray); border-radius: 8px; }
.account-panel h2 { text-align: center; margin-bottom: 25px; }
.account-panel form { max-width: 400px; margin: 0 auto; }
.account-panel form .btn { width: auto; align-self: flex-end; }
.wishlist-boards-section, .wishlist-items-section { padding: 20px 0; flex-grow: 1; }
.board-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 25px; }
.board-card { background-color: var(--color-white); border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); padding: 20px; text-align: center; transition: transform 0.2s ease; }
.board-card:hover { transform: translateY(-5px); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12); }
.board-card h4 { font-family: 'Playfair Display', serif; font-size: 1.3rem; color: var(--color-main-light); margin-bottom: 10px; }
.board-card p { font-size: 0.9rem; color: var(--color-text-dark); flex-grow: 1; word-break: break-word; margin-bottom: 10px; }
.board-actions { display: flex; justify-content: center; gap: 10px; }
.board-actions .btn { padding: 8px 15px; font-size: 0.9rem; border-radius: 20px; }
.create-board-btn { display: block; width: fit-content; margin: 0 auto; }
.wishlist-items-section h3 { text-align: center; margin-bottom: 20px; color: var(--color-main-light); }
.wishlist-items-section .product-grid { /* Reutiliza el estilo de product-grid */ }
.modal-product-img { max-width: 150px; margin: 0 auto 20px auto; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
#wishlistProductName { text-align: center; font-family: 'Playfair Display', serif; color: var(--color-main-light); margin-bottom: 5px; }
#wishlistProductPrice { text-align: center; font-weight: 700; color: var(--color-accent-pink); margin-bottom: 20px; }
.create-board-prompt { text-align: center; margin-top: 20px; font-size: 0.9em; }
.create-board-prompt a { color: var(--color-accent-pink); font-weight: bold; text-decoration: none; }
.create-board-prompt a:hover { text-decoration: underline; }


/* ============================================== */
/* MEDIA QUERIES ESPECÍFICAS DE PRODUCT_DETAIL.PHP */
/* ============================================== */

/* Para tablets y dispositivos más grandes (mínimo 768px de ancho) */
@media (min-width: 768px) {
    .product-detail-layout {
        grid-template-columns: 1fr; /* Sigue una columna, pero el contenido interno se organiza */
        padding: 40px; /* Más padding en general */
    }

    .product-content-area {
        flex-direction: row; /* La sección de imagen e info en fila */
        gap: 40px;
    }

    .product-images {
        flex: 1; 
    }

    .product-info-area {
        flex: 1.5; /* Info area toma más espacio */
        text-align: left;
    }
    
    .product-price-page,
    .quantity-selector-page,
    .product-actions-page {
        text-align: left;
        justify-content: flex-start;
    }

    .product-actions-page {
        flex-direction: row; /* Botones en fila */
    }

    .product-actions-page .btn {
        width: auto; /* Ancho automático, se ajusta al contenido */
        flex-grow: 1; /* Distribuye espacio equitativamente */
    }

    .product-tabs-page .tab-btn-page {
        padding: 12px 25px; /* Más padding en pestañas */
        font-size: 20px;
    }

    .related-products-page h3 {
        font-size: 2.5rem;
    }
    .product-grid-page {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Mantener las 4 columnas si es posible */
    }
}

/* Para laptops y desktops grandes (mínimo 1024px de ancho) */
@media (min-width: 1024px) {
    .product-header h1 {
        font-size: 3.5rem;
    }

    .main-detail-img-page {
        max-width: 550px; /* Imágenes más grandes en desktop */
        
    }
}


/* Estilos para el formulario de reseña */
#reviewForm {
    margin-top: 10px; /* Ligeramente menos margen superior */
    padding: 20px;    /* Reducir padding interno del formulario */
    background-color: var(--color-light-gray);
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

#reviewForm .form-group {
    margin-bottom:5px; /* Reducir espacio entre grupos de formularios */
}

#reviewForm label {
    display: block;
    margin-top: -1rem;
    font-weight: 600;
    margin-bottom: 5px; /* Reducir espacio entre label y input */
    color: var(--color-text-dark);
    font-size: 0.95rem; /* Ligeramente más pequeño para las etiquetas */
}

#reviewForm input[type="text"],
#reviewForm textarea {
    width: 100%;
    padding: 8px; /* Reducir padding de los inputs */
    border: 1px solid var(--color-gray);
    border-radius: 8px;
    font-size: 0.95rem; /* Ligeramente más pequeño para el texto de input */
    box-sizing: border-box; 
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

#reviewForm input[type="text"]:focus,
#reviewForm textarea:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb), 0.2);
    outline: none;
}

#reviewForm textarea {
    resize: vertical; 
}

#reviewForm .btn-primary {
    margin-top: -.8rem;
    padding: 10px 10px; /* Hacer el botón de envío más compacto */
    font-size: 1rem; /* Fuente del botón más pequeña */
    border-radius: 15px; /* Asegurar que los bordes sigan siendo redondeados */
}

/* Estilos para las estrellas de puntuación */
.rating-stars {
    font-size: 1.5rem; /* Estrellas ligeramente más pequeñas */
    color: var(--color-gray); 
    cursor: pointer;
    display: inline-block;
    margin-bottom: .6rem; 
}

.rating-stars .fa-star {
    margin-right: 3px; /* Reducir espacio entre estrellas */
    transition: color 0.2s ease;
}

.rating-stars .fa-star.filled,
.rating-stars .fa-star.fas { 
    color: var(--color-accent-pink); 
}

/* Estilos para la lista de reseñas existentes */
#reviewsListContainer {
    margin-top: -1.5rem; /* Ligeramente menos margen superior */
    margin-bottom: -1rem;
}

.review-item {
    background-color: var(--color-white);
    border: 1px solid var(--color-light-gray);
    border-radius: 10px;
    padding: 15px; /* Reducir padding interno de cada reseña */
    margin-bottom: 10px; /* Reducir espacio entre reseñas */
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.review-header {
    margin-bottom: 8px; /* Ligeramente menos espacio */
}

.review-username {
    font-weight: bold;
    color: var(--color-main-dark);
    font-size: 1rem; /* Ligeramente más pequeño */
}

.review-date {
    font-size: 0.8em; /* Ligeramente más pequeño */
    color: var(--color-gray-dark);
}

.review-rating {
    margin-bottom: 8px; /* Ligeramente menos espacio */
    font-size: 1.1rem; /* Tamaño de las estrellas en la reseña mostrada */
}

.review-rating .fa-star {
    color: var(--color-accent-pink); 
}

.review-comment {
    color: var(--color-text-dark);
    line-height: 1.5; /* Ligeramente más compacto */
    font-size: 0.9rem; /* Ligeramente más pequeño */
    margin-top: 0;
}

/* Placeholder text styles */
.placeholder-text {
    text-align: center;
    color: var(--color-dark-gray);
    padding: 15px;
    font-style: italic;
    width: 100%;
    
}
